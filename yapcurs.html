<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="Artemiy Sergeev">

    <title>Курсовой проект по ЯП</title>

    <!-- Bootstrap core CSS -->
    <link href="/dist/css/bootstrap.css" rel="stylesheet">
    <!-- Bootstrap theme -->
    <link href="/dist/css/bootstrap-theme.css" rel="stylesheet">
    <!-- Custom styles for this template -->
    <link href="/css/main.css" rel="stylesheet">

    <link rel="stylesheet" href="/highlight/styles/github.css">
    <script src="/highlight/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="/dist/js/html5shiv.js"></script>
      <script src="/dist/js/respond.min.js"></script>
    <![endif]-->
  </head>

  <body>
    <script src="/js/menu.js"></script>

    <div class="container">
      <!-- Main jumbotron for a primary marketing message or call to action -->
      <div class="jumbotron">
        <div class="alert alert-danger">Раздел находится на стадии разработки</div>
        <div class="page-header">
          <h1>Курсовой проект по ЯП</h1>
        </div>
        <h2>
          <a href="https://sites.google.com/site/yap1057/ii-semestr/kursovik" target="_blank">Условия и результаты курсового проекта</a>
        </h2>
        <h2>Полезные ссылки</h2>
        <div class="list-group">
          <a class="list-group-item" target="_blank" href="http://en.wikipedia.org/wiki/Linked_list">
            <h4 class="list-group-item-heading">Статья про списки</h4>
            <small class="list-group-item-text">Полезно для представления данных</small>
          </a>
          <a class="list-group-item" target="_blank" href="http://en.wikipedia.org/wiki/Stack_(data_structure)">
            <h4 class="list-group-item-heading">Статья про стеки</h4>
            <small class="list-group-item-text">Полезно для представления данных</small>
          </a>
          <a class="list-group-item" target="_blank" href="http://en.wikipedia.org/wiki/Queue_(data_structure)">
            <h4 class="list-group-item-heading">Статья про очереди</h4>
            <small class="list-group-item-text">Полезно для представления данных</small>
          </a>
          <a class="list-group-item" target="_blank" href="http://ru.wikipedia.org/wiki/%D0%9E%D0%B1%D1%80%D0%B0%D1%82%D0%BD%D0%B0%D1%8F_%D0%BF%D0%BE%D0%BB%D1%8C%D1%81%D0%BA%D0%B0%D1%8F_%D0%B7%D0%B0%D0%BF%D0%B8%D1%81%D1%8C">
            <h4 class="list-group-item-heading">Обратная польская запись</h4>
            <small class="list-group-item-text">Полезно для разбора выражения</small>
          </a>
          <a class="list-group-item" target="_blank" href="http://ru.wikipedia.org/Алгоритм_сортировочной_станции">
            <h4 class="list-group-item-heading">Алгоритм сортировочной станции</h4>
            <small class="list-group-item-text">Преобразование прямой записи выражения в обратную польскую</small>
          </a>
          <a class="list-group-item" target="_blank" href="http://en.wikipedia.org/wiki/Token_(parser)#Token">
            <h4 class="list-group-item-heading">Статья про лексемы</h4>
            <small class="list-group-item-text">Полезно для разбора выражения</small>
          </a>
          <a class="list-group-item" target="_blank" href="http://lord-n.narod.ru/download/books/walla/programming/Spr_po_C/24/24.htm">
            <h4 class="list-group-item-heading">Статья про рекурсивный спуск</h4>
            <small class="list-group-item-text">Полезно для разбора выражения</small>
          </a>
          <a class="list-group-item" target="_blank" href="http://lord-n.narod.ru/download/books/walla/programming/Spr_po_C/24/24.htm">
            <h4 class="list-group-item-heading">Статья про рекурсивный спуск</h4>
            <small class="list-group-item-text">Полезно для разбора выражения</small>
          </a>
          <a class="list-group-item" target="_blank" href="http://www.drdobbs.com/the-new-c-x-macros/184401387">
            <h4 class="list-group-item-heading">Статья про X-макросы</h4>
            <small class="list-group-item-text">Удобный способ представлять массивы структур.</small>
          </a>
          <a class="list-group-item" target="_blank" href="http://en.wikipedia.org/wiki/Setjmp.h">
            <h4 class="list-group-item-heading">Статья про нелокальные переходы</h4>
            <small class="list-group-item-text">Полезно для обработки ошибок</small>
          </a>
          <a class="list-group-item" data-toggle="modal" data-target="#myModal">
            <h4 class="list-group-item-heading">Про goto и обработку ошибок</h4>
            <small class="list-group-item-text">Полезно для обработки ошибок</small>
          </a>
        </div>
        <h2>Этап 0</h2>
        <div>Проверка формата письма (см.условия), архива с файлами, компиляция.</div>
        <h2>Этап 1</h2>
        <div>Проверка реакции приложения на входные данные.<br />
          Требуется поддержка как минимум:
          <ul>
            <li>Корректная работа программы при <a target="_blank" href="http://ru.wikipedia.org/wiki/%D0%9F%D0%B5%D1%80%D0%B5%D0%BD%D0%B0%D0%BF%D1%80%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5_%D0%B2%D0%B2%D0%BE%D0%B4%D0%B0-%D0%B2%D1%8B%D0%B2%D0%BE%D0%B4%D0%B0">перенаправлении ввода-вывода</a>
            <li>Корректная работа программы при чтении параметров из файла
            <li>Обработка и вывод сообщений об ошибках
            <li>Корректное завершение работы программы с соответствующим кодом ошибки (0 - если ошибок нет)
          </ul>
          Полезные знания:
          <ul>
            <li>Статья выше про обработку ошибок
            <li><a target="_blanl" href="http://en.wikipedia.org/wiki/X_Macro">X макросы на Википедии</a>. Удобны при обработке ошибок или, вообще, при статическом задании в коде значений для сложных массивов
            <li>Роберт К. Мартин <a target="_blanl" href="http://www.ozon.ru/context/detail/id/5011068/">"Чистый код"</a>. Читайте предвзято и не следуйте книге вслепую.
          </ul>
        </div>
        <h2>Этап 2</h2>
        <div>Проверка реализации базовых арифметических операций.<br />
        И снова советы:
        <ul>
          <li>Используйте таблицу функций. Если вы пишите двустековый алгоритм Дейкстры, то скорее всего любая функция или оператор делают следующие действия: снимают параметры, которые будут обрабатывать со стека, делают что-то с ними и кладут результат обратно на стек.<br />
          <p>Логично было бы завести cтруктуру:
          <pre><code>typedef struct tag_function
{
  char *name;    /* Имя функции (может быть довольно длинным, например: floor) */
  int  priority; /* Приоритет функции или операции */
  /* Указатель на функцию в программе, выполняющую действия функции в выражении */
  error_code_t (*DoIt)( stack_t *s );
} function_t;</code></pre>
          И массив функций:
          <pre><code>function_t stdFunctions[] = 
{
  {"(", 1, NULL},
  {")", 2, NULL},
  {"+", 3, FuncAdd},
  {"-", 3, FuncSubtrack},
  {"*", 4, FuncMultiply},
  {"/", 4, FuncDivide},
  /* ... */
}</code></pre>
        Такая система достаточно легко расширяется, как в сторону добавления новых операций, так и в сторону усложнения их структуры - ассоциативность.
        </p>
        </ul>
        </div>
        <h2>Этап 3</h2>
        <div>...</div>
        <h2>Этап 4</h2>
        <div>...</div>
      </div> <!-- /jumbotron -->
      <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
              <h3 class="modal-title" id="myModalLabel">Использование goto для обработки ошибок</h3>
            </div>
            <div class="modal-body">
              <p>Часто возникает ситуация, когда во время работы функции возникает какая-то ошибка. При этом надо, помимо возврата кода ошибки, освободить выделенные до этого ресурсы.</p>
              <p>Итак, несколько способов это сделать:</p>
              <h4><u>Первый. Интуитивный.</u></h4>
              <pre><code>int someFuntion( ... )
{
  int *someResource1 = NULL;
  char *someResource2 = NULL;
  float *someResource3 = NULL;
 
  /* Initialization block */
  if ((someResource1 = malloc(sizeof(int) * 5)) == NULL)
    return ERROR1;
  if ((someResource2 = malloc(sizeof(char) * 7)) == NULL)
  {
    free(someResource1);
    return ERROR2;
  }
  if ((someResource3 = malloc(sizeof(float) * 9)) == NULL)
  {
    free(someResource1);
    free(someResource2);
    return ERROR3;
  }
  /* Some code here */
  ...

  return SUCCESS;
}</code></pre>
              Из преимуществ разве что интуитивная понятность.<br />
              Из минусов:
              <ol>
                <li>Дублирование кода</li>
                <li>Необходимость каждый раз вспоминать, что выделялось сверху.</li>
                <li>Плохая модифицируемость</li>
                <li>Нечитаемость</li>
              </ol>
              <h4><u>Второй. Абстрактный.</u></h4>
              <pre><code>int someFuntion( ... )
{
  int *someResource1 = NULL;
  char *someResource2 = NULL;
  float *someResource3 = NULL;
  int errorCode = 0;
 
  /* Initialization block */
  errorCode = allocateResources(someResource1, someResource2, someResource3);
  if (!errorCode)
  {
    /* Some code here */
  }
  else
    handleError(errorCode);
  releaseResources(someResource1, someResource2, someResouce3);

  return errorCode;
}</code></pre>
              Из преимуществ:
              <ol>
                <li>Компактность</li>
                <li>Все действия находятся на одном уровне абстракции</li>
                <li>Хорошая модифицируемость</li>
                <li>Одна точка выхода из функции</li>
              </ol>
              Из минусов:
              <ol>
                <li>Для каждой функции надо писать свои функции выделения и освобождения памяти</li>
                <li>Все "ломается" когда ошибки могут возникать не только на этапе инициализации (вложенные циклы, например)</li>
              </ol>

              <h4><u>Третий. Нелокальные переходы.</u></h4>
              <pre><code>#include &lt;setjmp.h&gt;

jmp_buf g_jumpBuffer;

int someFunction1( void )
{
  int errorCode = 0;
  int *someResource = NULL;

  /* При первом проходе вернет 0, но при вызове longjmp прыгнет на setjmp и вернет код, переданный в longjmp */
  if (errorCode = setjmp(g_jumpBuffer))
  {
    /* Release resources */
    if (someResource)
      free(someResource);
    return errorCode;
  }
  
  if ((someResource = malloc(sizeof(int) * 10)) == NULL)
    longjmp(g_jumpBuffer, ERROR1);

  /* Some code here */
  while (someIsValid())
  {
    /* В случае ошибки */
    longjmp(g_jumpBuffer, ERROR2);
  }
  longjmp(g_jumpBuffer, SUCCESS);
}</code></pre>
              Для начала <a href="http://en.wikipedia.org/wiki/Setjmp.h" target="_blank">статья</a> про нелокальные переходы.<br />
              Из преимуществ:
              <ol>
                <li>Компактность. Обработка ошибок находится в одном месте.</li>
                <li>Можно "прыгнуть" из любого места функции. (При желании даже из другой функции этого модуля).</li>
                <li>Хорошая модифицируемость</li>
                <li>Одна точка выхода из функции</li>
              </ol>
              Из минусов:
              <ol>
                <li>Можно запутаться, если прыгать из фунции в функцию</li>
              </ol>

              <h4><u>Четвертый. goto.</u></h4>
              <pre><code>#define CATCH_ERROR(errorcode, errorlabel)  \
  errorCode = errorcode; \
  goto errorlabel


int someFunction( void )
{
  int errorCode = 0;
  int *someResource = NULL;

  if ((someResource = malloc(sizeof(int) * 10)) == NULL)
    CATCH_ERROR(ERROR1, errorLabel);

  /* Some code here */
  while (someIsValid())
  {
    /* В случае ошибки */
    CATCH_ERROR(ERROR2, errorLabel);
  }

errorLabel:
  /* Release resource */
  if (someResource)
    free(someResource);
  return errorCode;
}</code></pre>
              Из преимуществ:
              <ol>
                <li>Компактность. Обработка ошибок находится в одном месте.</li>
                <li>Можно "прыгнуть" из любого места функции.</li>
                <li>Хорошая модифицируемость.</li>
                <li>Одна точка выхода из функции.</li>
                <li>Хороший метод, если ты поклонник <code>goto</code></li>
              </ol>
              Из минусов:
              <ol>
                <li>Неявная инициализация кода ошибки. В функции обязана быть переменная <code>errorCode</code>. (см. <code>define</code>)</li>
                <li>Ужастный метод, если ты ненавидишь <code>goto</code>. И вообще, все, кто так делает будут гореть в аду.</li>
              </ol>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
          </div><!-- /.modal-content -->
        </div><!-- /.modal-dialog -->
      </div><!-- /.modal -->
    </div>
    <footer>
      <div class="navbar navbar-fixed-bottom navbar-default">
        <div class="container">
          <p class="navbar-text">Site built by <a href="/contacts.html" target="_top">Sergeev Artemiy</a></p>
        </div>
      </div>
    </footer>

    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="/dist/js/jquery.js"></script>
    <script src="/dist/js/bootstrap.min.js"></script>
    <script src="/dist/js/holder.js"></script>

    <script src="/js/ref.js"></script>
  </body>
</html>